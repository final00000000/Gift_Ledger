name: gift_ledger
description: "份子钱记账 - 礼金收支追踪与管理"
publish_to: 'none'
version: 1.2.7+7

environment:
  sdk: ^3.2.0

dependencies:
  flutter:
    sdk: flutter
  cupertino_icons: ^1.0.8
  provider: ^6.1.1              # 状态管理
  sqflite: ^2.3.0
  sqflite_common_ffi: ^2.3.0  # 桌面端数据库支持
  sqlite3_flutter_libs: ^0.5.0 # 包含 sqlite3.dll
  path_provider: ^2.1.1
  intl: ^0.20.2
  flutter_localizations:
    sdk: flutter
  shared_preferences: ^2.5.4
  file_picker: ^8.0.0      # 文件选择器
  excel: ^4.0.3            # Excel读写
  share_plus: ^8.0.0       # 分享文件
  permission_handler: ^11.0.0  # 权限管理
  flutter_slidable: ^3.0.0     # 滑动操作
  lunar: ^1.7.8
  flutter_local_notifications: ^18.0.1  # 本地推送
  timezone: ^0.10.0             # 时区支持
  flutter_secure_storage: ^10.0.0
  crypto: ^3.0.7
  web: ^0.5.1  # Web API 支持（IndexedDB）

dev_dependencies:
  flutter_test:
    sdk: flutter
  flutter_lints: ^4.0.0
  flutter_launcher_icons: ^0.13.1
  flutter_native_splash: ^2.4.4  # 启动页优化（降级以兼容 excel）

flutter_launcher_icons:
  android: "launcher_icon"
  ios: true
  image_path: "assets/icon/app_icon.jpg"
  min_sdk_android: 21
  web:
    generate: true
    image_path: "assets/icon/app_icon.jpg"
    background_color: "#C62828"
    theme_color: "#C62828"
  windows:
    generate: true
    image_path: "assets/icon/app_icon.jpg"
    icon_size: 48

flutter:
  uses-material-design: true
  assets:
    - assets/icon/app_icon.jpg
    - assets/splash/logo.png
    - pubspec.yaml

# ============================================
# 启动页配置（消除黑白屏）
# 方案 1：矢量图 + 方案 C：人际连接红包图标
# ============================================
flutter_native_splash:
  # 通用配置（Android 11 及以下、iOS）
  color: "#FFFFFF"  # 纯白色背景，与图标一致
  image: assets/splash/logo.png  # PNG 图标

  # Android 12+ 特殊配置（必须单独设置）
  android_12:
    image: assets/splash/logo.png
    icon_background_color: "#FFFFFF"  # 纯白色背景
    color: "#FFFFFF"  # 背景色

  # 平台开关
  android: true
  ios: true
  web: false

  # 全屏模式
  fullscreen: true

  # 图标居中
  android_gravity: center
  ios_content_mode: center
